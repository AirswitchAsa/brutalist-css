@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   BRUTALIST CSS LAYER
   A raw, honest, and unpolished design system
   ============================================================================= */

@layer base {
  :root {
    /* ===========================================
       BASELINE GRID - 8px System
       =========================================== */
    --grid-unit: 8px;
    --space-1: 8px;
    --space-2: 16px;
    --space-3: 24px;
    --space-4: 32px;
    --space-5: 40px;
    --space-6: 48px;
    --space-8: 64px;
    --space-10: 80px;
    --space-12: 96px;

    /* ===========================================
       TYPOGRAPHY - Tracking
       =========================================== */
    --tracking-tighter: -0.03em;
    --tracking-tight: -0.01em;
    --tracking-normal: 0;
    --tracking-wide: 0.025em;
    --tracking-wider: 0.05em;

    /* ===========================================
       TYPOGRAPHY - Line Heights (grid-aligned)
       =========================================== */
    --leading-none: 1;
    --leading-tight: 1.25;      /* For headings */
    --leading-snug: 1.375;      /* For subheadings */
    --leading-normal: 1.5;      /* For body text - 16px * 1.5 = 24px (3 units) */
    --leading-relaxed: 1.75;    /* For large body text */

    /* ===========================================
       TYPOGRAPHY - Font Sizes (grid-aligned)
       =========================================== */
    --text-xs: 10px;            /* Captions, badges */
    --text-sm: 12px;            /* Labels, small text */
    --text-base: 14px;          /* Body text */
    --text-lg: 16px;            /* Large body */
    --text-xl: 20px;            /* H4 */
    --text-2xl: 24px;           /* H3 */
    --text-3xl: 32px;           /* H2 */
    --text-4xl: 40px;           /* H1 */
    --text-5xl: 48px;           /* Display */

    /* ===========================================
       BRUTALIST COLOR TOKENS - LIGHT THEME
       =========================================== */

    /* Primary: Main color for text, borders, key UI elements */
    --primary: #2b2b2b;
    --primary-foreground: #ffffff;

    /* Secondary: Background color for most surfaces */
    --secondary: #ffffff;
    --secondary-foreground: #2b2b2b;

    /* Info: Accent for hover states, subtle highlights */
    --info: #e8ecef;
    --info-foreground: #2b2b2b;

    /* Action: Accent for interactive elements, CTAs */
    --action: #223a70;
    --action-foreground: #ffffff;

    /* Destructive: Accent for dangerous/destructive actions */
    --destructive: #a22041;
    --destructive-foreground: #ffffff;

    /* Derived tokens for compatibility */
    --background: var(--secondary);
    --foreground: var(--primary);
    --card: var(--secondary);
    --card-foreground: var(--primary);
    --popover: var(--secondary);
    --popover-foreground: var(--primary);
    --muted: var(--info);
    --muted-foreground: #6b7280;
    --accent: var(--action);
    --accent-foreground: var(--action-foreground);
    --border: var(--primary);
    --input: var(--primary);
    --ring: var(--action);
    --radius: 0px;
  }

  .dark {
    /* ===========================================
       BRUTALIST COLOR TOKENS - DARK THEME
       Swapped primary/secondary from light mode
       =========================================== */

    /* Primary: Main color for text, borders, key UI elements */
    --primary: #ffffff;
    --primary-foreground: #2b2b2b;

    /* Secondary: Background color for most surfaces */
    --secondary: #2b2b2b;
    --secondary-foreground: #ffffff;

    /* Info: Accent for hover states, subtle highlights */
    --info: #e5e4e6;
    --info-foreground: #ffffff;

    /* Action: Accent for interactive elements, CTAs */
    --action: #84c3eb;
    --action-foreground: #ffffff;

    /* Destructive: Accent for dangerous/destructive actions */
    --destructive: #a22041;
    --destructive-foreground: #ffffff;

    /* Derived tokens for compatibility */
    --background: var(--secondary);
    --foreground: var(--primary);
    --card: #363636;
    --card-foreground: var(--primary);
    --popover: var(--secondary);
    --popover-foreground: var(--primary);
    --muted: var(--info);
    --muted-foreground: #9ca3af;
    --accent: var(--action);
    --accent-foreground: var(--action-foreground);
    --border: var(--primary);
    --input: var(--primary);
    --ring: var(--action);
  }

  * {
    border-color: var(--border);
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: "Inter", system-ui, -apple-system, sans-serif;
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* ===========================================
     GLOBAL TYPOGRAPHY - Headings
     =========================================== */
  h1 {
    font-size: var(--text-4xl);
    font-weight: 900;
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tighter);
  }

  h2 {
    font-size: var(--text-3xl);
    font-weight: 800;
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tighter);
  }

  h3 {
    font-size: var(--text-2xl);
    font-weight: 700;
    line-height: var(--leading-snug);
    letter-spacing: var(--tracking-tight);
  }

  h4 {
    font-size: var(--text-xl);
    font-weight: 600;
    line-height: var(--leading-snug);
    letter-spacing: var(--tracking-tight);
  }

  /* ===========================================
     GLOBAL TYPOGRAPHY - Body & Labels
     =========================================== */
  p {
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-normal);
  }

  small {
    font-size: var(--text-sm);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wide);
  }

  label {
    font-size: var(--text-sm);
    font-weight: 500;
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wide);
  }

  /* Code/Mono text */
  code, pre, kbd {
    font-family: "JetBrains Mono", "Fira Code", monospace;
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
    letter-spacing: var(--tracking-normal);
  }

  /* ===========================================
     TEXT SELECTION
     =========================================== */
  ::selection {
    background-color: var(--info);
    color: var(--info-foreground);
  }

  ::-moz-selection {
    background-color: var(--info);
    color: var(--info-foreground);
  }
}

/* =============================================================================
   BRUTALIST COMPONENT OVERRIDES
   ============================================================================= */

@layer components {

  /* Brutalist Button Styles */
  .brutalist-btn {
    @apply relative inline-flex items-center justify-center;
    @apply font-sans font-semibold uppercase;
    @apply border-4 border-primary bg-secondary text-primary;
    @apply transition-all duration-100;
    padding: var(--space-1) var(--space-3);
    font-size: var(--text-sm);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wide);
    box-shadow: 4px 4px 0 0 var(--primary);
  }

  .brutalist-btn:hover {
    @apply bg-info;
    box-shadow: 2px 2px 0 0 var(--primary);
    transform: translate(2px, 2px);
  }

  .brutalist-btn:active {
    box-shadow: 0 0 0 0 var(--primary);
    transform: translate(4px, 4px);
  }

  .brutalist-btn-primary {
    @apply bg-primary text-primary-foreground;
    box-shadow: 4px 4px 0 0 var(--action);
  }

  .brutalist-btn-primary:hover {
    box-shadow: 2px 2px 0 0 var(--action);
  }

  .brutalist-btn-destructive {
    @apply border-destructive bg-destructive text-destructive-foreground;
    box-shadow: 4px 4px 0 0 color-mix(in srgb, var(--destructive) 70%, black);
  }

  /* Brutalist Input Styles */
  .brutalist-input {
    @apply w-full;
    @apply font-sans;
    @apply border-4 border-primary bg-secondary text-primary;
    @apply focus:outline-none;
    padding: var(--space-1) var(--space-2);
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-normal);
    box-shadow: 4px 4px 0 0 var(--primary);
  }

  .brutalist-input:focus {
    box-shadow: 2px 2px 0 0 var(--action);
    transform: translate(2px, 2px);
  }

  .brutalist-input::placeholder {
    @apply text-muted-foreground uppercase;
    letter-spacing: var(--tracking-wide);
  }

  /* Brutalist Card Styles */
  .brutalist-card {
    @apply border-4 border-primary bg-secondary;
    padding: var(--space-3);
    box-shadow: 8px 8px 0 0 var(--primary);
  }

  .brutalist-card-header {
    @apply border-b-4 border-primary;
    margin-bottom: var(--space-2);
    padding-bottom: var(--space-2);
  }

  .brutalist-card-title {
    @apply font-sans font-black uppercase text-primary;
    font-size: var(--text-2xl);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tighter);
  }

  .brutalist-card-description {
    @apply font-sans text-muted-foreground uppercase;
    margin-top: var(--space-1);
    font-size: var(--text-sm);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wide);
  }

  /* Brutalist Terminal/Code Block */
  .brutalist-terminal {
    @apply font-mono;
    @apply border-4 border-primary;
    padding: var(--space-3);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
    background-color: var(--primary);
    color: var(--action);
    box-shadow: 8px 8px 0 0 var(--action);
  }

  .brutalist-terminal-header {
    @apply flex items-center;
    gap: var(--space-1);
    margin-bottom: var(--space-2);
    padding-bottom: var(--space-1);
    border-bottom: 1px solid var(--action);
  }

  .brutalist-terminal-dot {
    @apply w-3 h-3 rounded-full;
  }

  /* Brutalist Label */
  .brutalist-label {
    @apply font-sans font-semibold uppercase text-primary;
    font-size: var(--text-sm);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wider);
  }

  /* Brutalist Badge */
  .brutalist-badge {
    @apply inline-flex items-center;
    @apply font-sans font-bold uppercase;
    @apply border-2 border-primary bg-secondary text-primary;
    padding: calc(var(--space-1) / 2) var(--space-1);
    font-size: var(--text-xs);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wider);
    box-shadow: 2px 2px 0 0 var(--primary);
  }

  .brutalist-badge-accent {
    @apply bg-action text-action-foreground;
  }

  /* Brutalist Dialog */
  .brutalist-dialog-overlay {
    @apply fixed inset-0;
    background-color: color-mix(in srgb, var(--primary) 80%, transparent);
  }

  .brutalist-dialog-content {
    @apply fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2;
    @apply w-full max-w-lg;
    @apply border-4 border-primary bg-secondary;
    padding: var(--space-4);
    box-shadow: 12px 12px 0 0 var(--primary);
  }

  /* Brutalist Tabs */
  .brutalist-tabs-list {
    @apply flex border-4 border-primary border-b-0;
  }

  .brutalist-tabs-trigger {
    @apply flex-1;
    @apply font-sans font-semibold uppercase;
    @apply border-r-4 border-primary last:border-r-0;
    @apply bg-info text-primary;
    @apply transition-colors;
    padding: var(--space-1) var(--space-3);
    font-size: var(--text-sm);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wide);
  }

  .brutalist-tabs-trigger[data-state="active"] {
    @apply bg-primary text-primary-foreground;
    font-weight: 700;
  }

  .brutalist-tabs-content {
    @apply border-4 border-primary;
    padding: var(--space-3);
  }

  /* Brutalist Switch */
  .brutalist-switch {
    @apply relative inline-flex h-8 w-14;
    @apply border-4 border-primary bg-secondary;
    @apply cursor-pointer;
  }

  .brutalist-switch[data-state="checked"] {
    @apply bg-action;
  }

  .brutalist-switch-thumb {
    @apply block h-5 w-5;
    @apply border-2 border-primary bg-secondary;
    @apply transition-transform;
    transform: translateX(2px);
  }

  .brutalist-switch[data-state="checked"] .brutalist-switch-thumb {
    transform: translateX(26px);
  }

  /* Brutalist Section Divider */
  .brutalist-divider {
    @apply border-t-4 border-primary;
    margin-top: var(--space-6);
    margin-bottom: var(--space-6);
  }

  /* Brutalist Heading Styles */
  .brutalist-h1 {
    @apply font-sans font-black uppercase text-primary;
    font-size: var(--text-5xl);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tighter);
  }

  .brutalist-h2 {
    @apply font-sans font-black uppercase text-primary;
    font-size: var(--text-3xl);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tighter);
  }

  .brutalist-h3 {
    @apply font-sans font-bold uppercase text-primary;
    font-size: var(--text-xl);
    line-height: var(--leading-snug);
    letter-spacing: var(--tracking-tight);
  }

  /* Brutalist Alert */
  .brutalist-alert {
    @apply font-sans;
    @apply border-4 border-primary;
    padding: var(--space-2);
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    box-shadow: 4px 4px 0 0 var(--primary);
  }

  .brutalist-alert-warning {
    @apply bg-info border-primary;
  }

  .brutalist-alert-error {
    @apply bg-destructive text-destructive-foreground border-destructive;
    box-shadow: 4px 4px 0 0 color-mix(in srgb, var(--destructive) 70%, black);
  }

  .brutalist-alert-success {
    @apply bg-action text-action-foreground border-action;
  }
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

@layer utilities {
  .shadow-brutal {
    box-shadow: 4px 4px 0 0 var(--primary);
  }

  .shadow-brutal-lg {
    box-shadow: 8px 8px 0 0 var(--primary);
  }

  .shadow-brutal-xl {
    box-shadow: 12px 12px 0 0 var(--primary);
  }

  .shadow-brutal-action {
    box-shadow: 4px 4px 0 0 var(--action);
  }

  .border-brutal {
    @apply border-4 border-primary;
  }

  .hover-brutal {
    @apply transition-all duration-100;
  }

  .hover-brutal:hover {
    @apply bg-info;
    box-shadow: 2px 2px 0 0 var(--primary);
    transform: translate(2px, 2px);
  }

  /* Brutalist Scrollbar */
  .brutalist-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .brutalist-scrollbar::-webkit-scrollbar-track {
    background: var(--secondary);
    border-left: 1px solid var(--primary);
  }

  .brutalist-scrollbar::-webkit-scrollbar-thumb {
    background: var(--primary);
  }

  .brutalist-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--action);
  }

  /* Firefox scrollbar */
  .brutalist-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--primary) var(--secondary);
  }
}